<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="jp">
<head>
<title>
リバーシプログラムの作り方
</title>
</head>
<body background="../img/bg.gif" bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#0000ff" alink="#9900ff">
<a href="../index.html">＜目次＞</a>
<a href="7_1.html">＜前へ＞</a>
<a href="7_3.html">＜次へ＞</a>
<table width="600" border="0" cellpadding="3">
<tr bgcolor="#333399">
<td>
<font size=+1 color="#ffffff">
<b>7.2 Multi Prob Cut (MPC)</b>
</font>
</td>
</tr>
</table>
<p>
前節では単純な枝刈りを導入しましたが、良い効果は現れませんでした。<br>
本節ではより複雑な枝刈り手法である<b>Multi Prob Cut (MPC)</b>について説明します。<br>
MPCは、Logistelloの作者であるMichael Buroによって提案された手法です。<br>
</p>
<ul>
<li><b>MPCの特徴</b>
<p>
MPCでは、静的評価によって探索を打ち切るかどうかを決めるのではなく、最初に残り手数よりも浅い探索を行います。<br>
次に、浅い探索から残り手数分の探索（深い探索と呼ぶことにします）の評価値を予想します。<br>
そして予想した評価値から、αカットまたはβカットが発生しそうかどうかを判断します。<br>
浅い探索の手数は、例えば残り手数４手なら浅い探索２手、残り手数８手なら浅い探索４手というようにあらかじめ決めておきます。<br>
探索の残り手数に応じて浅い探索の手数が変わるのもMPCの特徴のひとつです。<br>
</p>
<li><b>浅い探索と深い探索の関係</b>
<p>
MPCでは、「浅い探索による評価値と深い探索による評価値との間には相関関係がある」ことを利用しています。<br>
浅い探索による評価値をv、深い探索による評価値をVとして、vとVの間に以下の関係があると仮定します。<br>
</p>
<p>
V = f (v) + e<br>
</p>
<p>
f (v)はvの関数、eは誤差です。<br>
誤差eは平均0、標準偏差σの正規分布に従うと仮定します。<br>
f (v)にはvとVとの関係を適切に表現しそうな関数を選びます。<br>
例えばBuroは以下の式を採用しています。<br>
</p>
<p>
V = a * v + b + e<br>
</p>
<p>
ここでaとbはある実数です。<br>
aとbとσは浅い探索による評価値と深い探索による評価値の統計をとることで決定できます。<br>
本解説では、これを簡略化して、a=1とした式を使用することにします。<br>
</p>
<p>
V = v + b + e<br>
</p>
<p>
なお、この関係は２手読みと４手読み、４手読みと８手読み等のそれぞれの組み合わせ毎に調べる必要があります。<br>
</p>
<li><b>各ノードの処理</b>
<p>
各ノードでは、浅い探索による評価値vが得られたら、以下のどちらかを満たすかどうかを調べます。<br>
一方を満たす場合にはそこで探索を打ち切ります。<br>
上の式を満たす場合には「深い探索による評価値がα値より小さくなりそう」であることを意味しています。<br>
下の式を満たす場合には「深い探索による評価値がβ値より大きくなりそう」であることを意味しています。<br>
</p>
<p>
v + b + t * σ &lt; α<br>
v + b - t * σ &gt; β<br>
</p>
<p>
ここでtは探索の打ち切りやすさを決める値です。<br>
tが小さい程枝刈りが多く発生しますが、評価の精度が落ちます。<br>
</p>
<p>
具体的なtの決定方法ですが、枝刈りが発生する場合の信頼度によって決めます。<br>
枝刈りを確率pで信頼できるようにするためには、平均０、分散１の正規分布の−∞からtまでの積分値がpになるようにtを決めます
</p>
</ul>
<p>
今回はいくつか数式が出てきたので、難しかったでしょうか。<br>
本節ではMPCの説明にとどめ、具体的な実装は次節から行ないます。<br>
</p>
<a href="../index.html">＜目次＞</a>
<a href="7_1.html">＜前へ＞</a>
<a href="7_3.html">＜次へ＞</a>
<hr>
&copy;2006 Daiki Sanno, All Rights Reserved<br>
<a href="mailto:support@es-cube.net">mailto:support@es-cube.net</a><br>
</body>
</html>
